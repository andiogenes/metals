"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8497],{8586:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>a,toc:()=>l});var s=n(4848),i=n(8453);const o={id:"updating-website",title:"Contributing to the website"},r=void 0,a={id:"contributors/updating-website",title:"Contributing to the website",description:"This website is built using Docusaurus.",source:"@site/target/docs/contributors/updating-website.md",sourceDirName:"contributors",slug:"/contributors/updating-website",permalink:"/metals/docs/contributors/updating-website",draft:!1,unlisted:!1,editUrl:"https://github.com/scalameta/metals/edit/main/docs/contributors/updating-website.md",tags:[],version:"current",frontMatter:{id:"updating-website",title:"Contributing to the website"},sidebar:"docs",previous:{title:"Contributing to Metals",permalink:"/metals/docs/contributors/getting-started"},next:{title:"Making a release",permalink:"/metals/docs/contributors/releasing"}},c={},l=[{value:"Running the site locally",id:"running-the-site-locally",level:2},{value:"Adding a new page",id:"adding-a-new-page",level:2}];function d(e){const t={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["This website is built using ",(0,s.jsx)(t.a,{href:"https://docusaurus.io/",children:"Docusaurus"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["For simple changes to the documentation, click on the ",(0,s.jsx)(t.code,{children:"Edit"})," button at the bottom\nof each page and submit those changes directly on GitHub."]}),"\n",(0,s.jsx)(t.h2,{id:"running-the-site-locally",children:"Running the site locally"}),"\n",(0,s.jsx)(t.p,{children:"For running the website locally, you'll need:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"yarn"})," (",(0,s.jsx)(t.a,{href:"https://yarnpkg.com/lang/en/docs/install-ci/",children:"https://yarnpkg.com/lang/en/docs/install-ci/"}),")"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"sbt"})," (",(0,s.jsx)(t.a,{href:"https://www.scala-sbt.org/1.0/docs/Setup.html",children:"https://www.scala-sbt.org/1.0/docs/Setup.html"}),")"]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"In addition to Docusaurus, we preprocess the markdown files using:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"https://github.com/scalameta/mdoc",children:"mdoc"}),", to type-check, interpret Scala\ncode fences, and to generate the site using its ",(0,s.jsx)(t.a,{href:"https://scalameta.org/mdoc/docs/docusaurus.html",children:"built-in Docusaurus support"}),"."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"The first step is to then preprocess the markdown files. You can do it with:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sh",children:"sbt\ndocs/run -w\n"})}),"\n",(0,s.jsxs)(t.p,{children:["This command will watch for new changes for Markdown files in the ",(0,s.jsx)(t.code,{children:"docs/"}),"\ndirectory and regenerate the files when they change."]}),"\n",(0,s.jsx)(t.p,{children:"You can now build and launch the website using these commands:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sh",children:"cd website\nyarn install # only the first time, to install the dependencies\nyarn start\n\n# To test search feature in local development\nyarn build\nyarn serve\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Now visit ",(0,s.jsx)(t.a,{href:"http://localhost:3000",children:"localhost:3000"})," and you should see a local version of the\nwebsite. New changes should trigger a reload in the browser."]}),"\n",(0,s.jsx)(t.h2,{id:"adding-a-new-page",children:"Adding a new page"}),"\n",(0,s.jsx)(t.p,{children:"Whenever you add a new markdown page to the documentation, you'll have to\nmanually include it in the side menu."}),"\n",(0,s.jsxs)(t.p,{children:["You can do this by editing the ",(0,s.jsx)(t.code,{children:"website/sidebars.json"})," file. The name to use is\nthe ",(0,s.jsx)(t.code,{children:"id"})," specified in the page metadata (see the existing pages for an example)."]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>a});var s=n(6540);const i={},o=s.createContext(i);function r(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);